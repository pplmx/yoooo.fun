<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="Let's start to learn Docker."><meta name=keywords content="docker,cli,,common,cli"><title>Learning Docker</title>
<link rel=canonical href=https://notes.yoooo.fun/posts/learning-docker/><link rel=stylesheet href=/scss/style.min.663803bebe609202d5b39d848f2d7c2dc8b598a2d879efa079fa88893d29c49c.css><meta property='og:title' content="Learning Docker"><meta property='og:description' content="Let's start to learn Docker."><meta property='og:url' content='https://notes.yoooo.fun/posts/learning-docker/'><meta property='og:site_name' content='Aurora'><meta property='og:type' content='article'><meta property='article:section' content='Posts'><meta property='article:tag' content='docker'><meta property='article:tag' content='cli'><meta property='article:published_time' content='2020-06-05T16:42:36+00:00'><meta property='article:modified_time' content='2024-01-06T22:21:46+00:00'><meta name=twitter:title content="Learning Docker"><meta name=twitter:description content="Let's start to learn Docker."><link rel="shortcut icon" href=/images/favicon.png></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/images/favicon.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>üç•</span></figure><div class=site-meta><h1 class=site-name><a href=/>Aurora</a></h1><h2 class=site-description>To infinity and beyond.</h2></div></header><ol class=menu-social><li><a href=https://github.com/pplmx target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>Links</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#common-cli>Common CLi</a></li><li><a href=#docker-commit>Docker commit</a></li><li><a href=#how-to-ssh-among-multiple-container>How to SSH among multiple container</a></li><li><a href=#docker-network>Docker network</a><ol><li><a href=#network-drivers>Network drivers</a></li></ol></li><li><a href=#network-driver-summary>Network driver summary</a></li><li><a href=#filter-and-format>Filter and Format</a></li><li><a href=#fyi>FYI</a><ol><li><a href=#container>Container</a></li><li><a href=#image>Image</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/docker/>Docker</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/posts/learning-docker/>Learning Docker</a></h2><h3 class=article-subtitle>Let's start to learn Docker.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jun 05, 2020</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>7 minute read</time></div></footer></div></header><section class=article-content><h1 id=docker-general-knowledge>Docker General Knowledge</h1><h2 id=common-cli>Common CLi</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># list all images in local</span>
</span></span><span class=line><span class=cl><span class=c1># -a, i.e. --all [Show all images (default hides intermediate images)]</span>
</span></span><span class=line><span class=cl>docker image ls -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># list all images without intermediate images</span>
</span></span><span class=line><span class=cl>docker image ls
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># list all containers in local(running or stopped)</span>
</span></span><span class=line><span class=cl>docker container ls -a
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># list all running containers</span>
</span></span><span class=line><span class=cl>docker container ls
</span></span><span class=line><span class=cl><span class=c1># Key details, you can refer to the last of this article.</span>
</span></span><span class=line><span class=cl>docker container ls --format <span class=s1>&#39;table {{.ID}}\t{{.Names}}\t{{.Status}}\t{{.Ports}}&#39;</span>
</span></span><span class=line><span class=cl>docker container ls --format <span class=s1>&#39;table {{.ID}}\t{{.Image}}\t{{.Names}}\t{{.Status}}\t{{.Ports}}&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># pull image from dockerhub(It can be with tag, e.g. latest)</span>
</span></span><span class=line><span class=cl>docker image pull centos
</span></span><span class=line><span class=cl>docker image pull centos:latest
</span></span><span class=line><span class=cl>docker image pull purplemystic/centos
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># create a container named my_centos by the latest centos image</span>
</span></span><span class=line><span class=cl><span class=c1># -i, i.e. --interactive</span>
</span></span><span class=line><span class=cl><span class=c1># -t, i.e. --tty</span>
</span></span><span class=line><span class=cl>docker container run --privileged -dit --name my_centos centos init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># enter in a docker container</span>
</span></span><span class=line><span class=cl>docker container <span class=nb>exec</span> -it my_cenos bash
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># stop a started container</span>
</span></span><span class=line><span class=cl>docker container stop my_centos
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># start a stopped container</span>
</span></span><span class=line><span class=cl>docker container start my_centos
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># kill a container</span>
</span></span><span class=line><span class=cl>docker container <span class=nb>kill</span> my_centos
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># remove all stopped containers</span>
</span></span><span class=line><span class=cl>docker container prune
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># remove all unused images</span>
</span></span><span class=line><span class=cl>docker image prune
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># container to host</span>
</span></span><span class=line><span class=cl><span class=c1># copy a test.log in container my_centos /var/tmp to current dir</span>
</span></span><span class=line><span class=cl>docker container cp my_centos:/var/tmp/test.log .
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># host to container</span>
</span></span><span class=line><span class=cl>docker container cp test.log my_centos:/var/tmp
</span></span></code></pre></td></tr></table></div></div><h2 id=docker-commit>Docker commit</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># save container to a image with your changes</span>
</span></span><span class=line><span class=cl>docker container commit <span class=o>[</span>OPTIONS<span class=o>]</span> CONTAINER <span class=o>[</span>REPOSITORY<span class=o>[</span>:TAG<span class=o>]]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># e.g.</span>
</span></span><span class=line><span class=cl>docker container commit my_centos purplemystic/centos
</span></span><span class=line><span class=cl>docker container commit my_centos purplemystic/centos:1.2
</span></span><span class=line><span class=cl>docker container commit my_centos purplemystic/centos:999
</span></span></code></pre></td></tr></table></div></div><p><code>Options</code></p><div class=table-wrapper><table><thead><tr><th>Name, shorthand</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td><code>--author , -a</code></td><td></td><td>Author (e.g., ‚ÄúJohn Hannibal Smith <a class=link href=mailto:hannibal@a-team.com>hannibal@a-team.com</a>‚Äù)</td></tr><tr><td><code>--change , -c</code></td><td></td><td>Apply Dockerfile instruction to the created image</td></tr><tr><td><code>--message , -m</code></td><td></td><td>Commit message</td></tr><tr><td><code>--pause , -p</code></td><td><code>true</code></td><td>Pause container during commit</td></tr></tbody></table></div><h2 id=how-to-ssh-among-multiple-container>How to SSH among multiple container</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># create three compute node</span>
</span></span><span class=line><span class=cl>docker container run -dit --privileged --name compute1 centos init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker container run -dit --privileged --name compute2 centos init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>docker container run -dit --privileged --name compute1 centos init
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># login to three nodes separately to run the following command</span>
</span></span><span class=line><span class=cl><span class=c1># step1: to ensure sshd service is active</span>
</span></span><span class=line><span class=cl>dnf install -y openssh openssh-server
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># step2: to ensure you know user and password(set user root&#39;s password to &#39;root&#39;)</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> <span class=s2>&#34;root:root&#34;</span> <span class=p>|</span> chpasswd
</span></span></code></pre></td></tr></table></div></div><hr><p>Now, you can access one container from another container, like as follows:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>root@937fa919cd2a /<span class=o>]</span><span class=c1># ssh root@172.17.0.2</span>
</span></span><span class=line><span class=cl>The authenticity of host <span class=s1>&#39;172.17.0.2 (172.17.0.2)&#39;</span> can<span class=s1>&#39;t be established.
</span></span></span><span class=line><span class=cl><span class=s1>ECDSA key fingerprint is SHA256:cBgcL8pqvWncp8Wn0ky7beHWC2ZFNWlR8UXK0roK7Mg.
</span></span></span><span class=line><span class=cl><span class=s1>Are you sure you want to continue connecting (yes/no/[fingerprint])? yes
</span></span></span><span class=line><span class=cl><span class=s1>Warning: Permanently added &#39;</span>172.17.0.2<span class=s1>&#39; (ECDSA) to the list of known hosts.
</span></span></span><span class=line><span class=cl><span class=s1>root@172.17.0.2&#39;</span>s password:
</span></span><span class=line><span class=cl><span class=o>[</span>root@0ea4fead9a24 ~<span class=o>]</span><span class=c1>#</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=docker-network>Docker network</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># list network</span>
</span></span><span class=line><span class=cl>Œª docker network ls
</span></span><span class=line><span class=cl>NETWORK ID          NAME                DRIVER              SCOPE
</span></span><span class=line><span class=cl>21a5e8b305c4        bridge              bridge              <span class=nb>local</span>
</span></span><span class=line><span class=cl>e6aafe917f13        host                host                <span class=nb>local</span>
</span></span><span class=line><span class=cl>d2de5c3c084c        none                null                <span class=nb>local</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># check network details</span>
</span></span><span class=line><span class=cl>Œª docker network inspect bridge
</span></span><span class=line><span class=cl><span class=o>[</span>
</span></span><span class=line><span class=cl>    <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Name&#34;</span>: <span class=s2>&#34;bridge&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Id&#34;</span>: <span class=s2>&#34;21a5e8b305c415ab903d86689778d91c7968ab9ab350e0f0885be8a81d0095cc&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Created&#34;</span>: <span class=s2>&#34;2020-06-08T04:21:05.390246004Z&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Scope&#34;</span>: <span class=s2>&#34;local&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Driver&#34;</span>: <span class=s2>&#34;bridge&#34;</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;EnableIPv6&#34;</span>: false,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;IPAM&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Driver&#34;</span>: <span class=s2>&#34;default&#34;</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Options&#34;</span>: null,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Config&#34;</span>: <span class=o>[</span>
</span></span><span class=line><span class=cl>                <span class=o>{</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;Subnet&#34;</span>: <span class=s2>&#34;172.17.0.0/16&#34;</span>,
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;Gateway&#34;</span>: <span class=s2>&#34;172.17.0.1&#34;</span>
</span></span><span class=line><span class=cl>                <span class=o>}</span>
</span></span><span class=line><span class=cl>            <span class=o>]</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Internal&#34;</span>: false,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Attachable&#34;</span>: false,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Ingress&#34;</span>: false,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ConfigFrom&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;Network&#34;</span>: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;ConfigOnly&#34;</span>: false,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Containers&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;0ea4fead9a248c57d0d5053198ea5ba5eedd32f6636dd834d763dddec7bce9fd&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;Name&#34;</span>: <span class=s2>&#34;compute1&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;EndpointID&#34;</span>: <span class=s2>&#34;3165851a116e074f7564411a351e74570c164af5610ebf8f45183840eb869199&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;MacAddress&#34;</span>: <span class=s2>&#34;02:42:ac:11:00:02&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;IPv4Address&#34;</span>: <span class=s2>&#34;172.17.0.2/16&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;IPv6Address&#34;</span>: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;937fa919cd2aacc47034648f739c29fec00a09e14f8363a8a68d5ac3ce786e15&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;Name&#34;</span>: <span class=s2>&#34;compute2&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;EndpointID&#34;</span>: <span class=s2>&#34;22e1551440dcdd913dc59612d9757b846a1b7c977f0f836bf5b826ef4da13bab&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;MacAddress&#34;</span>: <span class=s2>&#34;02:42:ac:11:00:03&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;IPv4Address&#34;</span>: <span class=s2>&#34;172.17.0.3/16&#34;</span>,
</span></span><span class=line><span class=cl>                <span class=s2>&#34;IPv6Address&#34;</span>: <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Options&#34;</span>: <span class=o>{</span>
</span></span><span class=line><span class=cl>            <span class=s2>&#34;com.docker.network.bridge.default_bridge&#34;</span>: <span class=s2>&#34;true&#34;</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;com.docker.network.bridge.enable_icc&#34;</span>: <span class=s2>&#34;true&#34;</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;com.docker.network.bridge.enable_ip_masquerade&#34;</span>: <span class=s2>&#34;true&#34;</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;com.docker.network.bridge.host_binding_ipv4&#34;</span>: <span class=s2>&#34;0.0.0.0&#34;</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;com.docker.network.bridge.name&#34;</span>: <span class=s2>&#34;docker0&#34;</span>,
</span></span><span class=line><span class=cl>            <span class=s2>&#34;com.docker.network.driver.mtu&#34;</span>: <span class=s2>&#34;1500&#34;</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>,
</span></span><span class=line><span class=cl>        <span class=s2>&#34;Labels&#34;</span>: <span class=o>{}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>]</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># create a network(default create a network whose network type is bridge)</span>
</span></span><span class=line><span class=cl>docker networ create br-int
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># create a host network</span>
</span></span><span class=line><span class=cl>docker network create --driver host host-net
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># --driver</span>
</span></span><span class=line><span class=cl>- bridge
</span></span><span class=line><span class=cl>- host
</span></span><span class=line><span class=cl>- overlay
</span></span><span class=line><span class=cl>- macvlan
</span></span><span class=line><span class=cl>- none
</span></span><span class=line><span class=cl>- Network Plugins
</span></span></code></pre></td></tr></table></div></div><h3 id=network-drivers>Network drivers</h3><p>Docker‚Äôs networking subsystem is pluggable, using drivers. Several drivers exist by default, and provide core networking functionality:</p><ul><li><code>bridge</code>: The default network driver. If you don‚Äôt specify a driver, this is the type of network you are creating. <strong>Bridge networks are usually
used when your applications run in standalone containers that need to communicate.</strong> See <a class=link href=https://docs.docker.com/network/bridge/ target=_blank rel=noopener>bridge networks</a>.</li><li><code>host</code>: For standalone containers, remove network isolation between the container and the Docker host, and use the host‚Äôs networking
directly. <code>host</code> is only available for swarm services on Docker 17.06 and higher. See <a class=link href=https://docs.docker.com/network/host/ target=_blank rel=noopener>use the host network</a>.</li><li><code>overlay</code>: Overlay networks connect multiple Docker daemons together and enable swarm services to communicate with each other. You can also use
overlay networks to facilitate communication between a swarm service and a standalone container, or between two standalone containers on different
Docker daemons. This strategy removes the need to do OS-level routing between these containers.
See <a class=link href=https://docs.docker.com/network/overlay/ target=_blank rel=noopener>overlay networks</a>.</li><li><code>macvlan</code>: Macvlan networks allow you to assign a MAC address to a container, making it appear as a physical device on your network. The Docker
daemon routes traffic to containers by their MAC addresses. Using the <code>macvlan</code> driver is sometimes the best choice when dealing with legacy
applications that expect to be directly connected to the physical network, rather than routed through the Docker host‚Äôs network stack.
See <a class=link href=https://docs.docker.com/network/macvlan/ target=_blank rel=noopener>Macvlan networks</a>.</li><li><code>none</code>: For this container, disable all networking. Usually used in conjunction with a custom network driver. <code>none</code> is not available for swarm
services. See <a class=link href=https://docs.docker.com/network/none/ target=_blank rel=noopener>disable container networking</a>.</li><li><a class=link href=https://docs.docker.com/engine/extend/plugins_services/ target=_blank rel=noopener>Network plugins</a>: You can install and use third-party network plugins with Docker. These
plugins are available from <a class=link href="https://hub.docker.com/search?category=network&amp;q=&amp;type=plugin" target=_blank rel=noopener>Docker Hub</a> or from third-party vendors. See the vendor‚Äôs
documentation for installing and using a given network plugin.</li></ul><h2 id=network-driver-summary>Network driver summary</h2><ul><li><strong>User-defined bridge networks</strong> are best when you need multiple containers to communicate on the same Docker host.</li><li><strong>Host networks</strong> are best when the network stack should not be isolated from the Docker host, but you want other aspects of the container to be
isolated.</li><li><strong>Overlay networks</strong> are best when you need containers running on different Docker hosts to communicate, or when multiple applications work together
using swarm services.</li><li><strong>Macvlan networks</strong> are best when you are migrating from a VM setup or need your containers to look like physical hosts on your network, each with
a unique MAC address.</li><li><strong>Third-party network plugins</strong> allow you to integrate Docker with specialized network stacks.</li></ul><h2 id=filter-and-format>Filter and Format</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Filters
</span></span><span class=line><span class=cl>       Filter output based on these conditions:
</span></span><span class=line><span class=cl>          - ancestor=(&lt;image-name&gt;[:tag]|&lt;image-id&gt;| &lt;image@digest&gt;)
</span></span><span class=line><span class=cl>            containers created from an image or a descendant.
</span></span><span class=line><span class=cl>          - before=(&lt;container-name&gt;|&lt;container-id&gt;)
</span></span><span class=line><span class=cl>          - expose=(&lt;port&gt;[/&lt;proto&gt;]|&lt;startport-endport&gt;/[&lt;proto&gt;])
</span></span><span class=line><span class=cl>          - exited=&lt;int&gt; an exit code of &lt;int&gt;
</span></span><span class=line><span class=cl>          - health=(starting|healthy|unhealthy|none)
</span></span><span class=line><span class=cl>          - id=&lt;ID&gt; a container&#39;s ID
</span></span><span class=line><span class=cl>          - isolation=(default|process|hyperv) (Windows daemon only)
</span></span><span class=line><span class=cl>          - is-task=(true|false)
</span></span><span class=line><span class=cl>          - label=&lt;key&gt; or label=&lt;key&gt;=&lt;value&gt;
</span></span><span class=line><span class=cl>          - name=&lt;string&gt; a container&#39;s name
</span></span><span class=line><span class=cl>          - network=(&lt;network-id&gt;|&lt;network-name&gt;)
</span></span><span class=line><span class=cl>          - publish=(&lt;port&gt;[/&lt;proto&gt;]|&lt;startport-endport&gt;/[&lt;proto&gt;])
</span></span><span class=line><span class=cl>          - since=(&lt;container-name&gt;|&lt;container-id&gt;)
</span></span><span class=line><span class=cl>          - status=(created|restarting|removing|running|paused|exited)
</span></span><span class=line><span class=cl>          - volume=(&lt;volume name&gt;|&lt;mount point destination&gt;)
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Format
</span></span><span class=line><span class=cl>       The formatting option (--format) pretty-prints container output using a
</span></span><span class=line><span class=cl>       Go template.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>       Valid placeholders for the Go template are listed below:
</span></span><span class=line><span class=cl>          - .ID           - Container ID.
</span></span><span class=line><span class=cl>          - .Image        - Image ID.
</span></span><span class=line><span class=cl>          - .Command      - Quoted command.
</span></span><span class=line><span class=cl>          - .CreatedAt    - Time when the container was created.
</span></span><span class=line><span class=cl>          - .RunningFor   - Elapsed time since the container was started.
</span></span><span class=line><span class=cl>          - .Ports        - Exposed ports.
</span></span><span class=line><span class=cl>          - .Status       - Container status.
</span></span><span class=line><span class=cl>          - .Size         - Container disk size.
</span></span><span class=line><span class=cl>          - .Names        - Container names.
</span></span><span class=line><span class=cl>          - .Labels       - All labels assigned to the container.
</span></span><span class=line><span class=cl>          - .Label        - Value of a specific label for this container.
</span></span><span class=line><span class=cl>                            For example &#39;{{.Label &#34;com.docker.swarm.cpu&#34;}}&#39;.
</span></span><span class=line><span class=cl>          - .Mounts       - Names of the volumes mounted in this container.
</span></span><span class=line><span class=cl>          - .Networks     - Names of the networks attached to this container.
</span></span></code></pre></td></tr></table></div></div><h2 id=fyi>FYI</h2><h3 id=container>Container</h3><blockquote><p>docker container my_command</p></blockquote><ul><li><code>create</code><ul><li>Create a container from an image.</li></ul></li><li><code>start</code><ul><li>Start an existing container.</li></ul></li><li><code>run</code><ul><li>Create a new container and start it.</li></ul></li><li><code>ls</code><ul><li>List running containers.</li></ul></li><li><code>inspect</code><ul><li>See lots of info about a container.</li></ul></li><li><code>logs</code><ul><li>Print logs.</li></ul></li><li><code>stop</code><ul><li>Gracefully stop running container.</li></ul></li><li><code>kill</code><ul><li>Stop main process in container abruptly.</li></ul></li><li><code>rm</code><ul><li>Delete a stopped container.</li></ul></li></ul><h3 id=image>Image</h3><blockquote><p>docker image my_command</p></blockquote><ul><li><code>build</code><ul><li>Build an image.</li></ul></li><li><code>push</code><ul><li>Push an image to a remote registry.</li></ul></li><li><code>ls</code><ul><li>List images.</li></ul></li><li><code>history</code><ul><li>See intermediate image info.</li></ul></li><li><code>inspect</code><ul><li>See lots of info about an image, including the layers.</li></ul></li><li><code>rm</code><ul><li>Delete an image.</li></ul></li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/docker/>Docker</a>
<a href=/tags/cli/>Cli</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>Last updated on Jan 06, 2024 22:21 UTC</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/posts/libc-version-not-found/><div class=article-details><h2 class=article-title>How to handle libc version not found in docker multi-stage build</h2></div></a></article><article><a href=/posts/healthcheck-distroless-img/><div class=article-details><h2 class=article-title>How to healthcheck distroless image</h2></div></a></article><article><a href=/posts/quick-start-6-ldap-ssp/><div class=article-details><h2 class=article-title>Quick Start: SSP</h2></div></a></article><article><a href=/posts/quick-start-1_2-traefik-http3/><div class=article-details><h2 class=article-title>Quick Start: Traefik with HTTP/3</h2></div></a></article><article><a href=/posts/quick-start-2_1-bitnami-ldap/><div class=article-details><h2 class=article-title>Quick Start: LDAP by Bitnami</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2017 -
2025 Aurora</section><section class=powerby><a href=https://yoooo.fun>Mystic</a><br>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>