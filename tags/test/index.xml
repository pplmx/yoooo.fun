<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Test on Aurora</title><link>https://notes.yoooo.fun/tags/test/</link><description>Recent content in Test on Aurora</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Fri, 24 Nov 2023 10:25:42 +0000</lastBuildDate><atom:link href="https://notes.yoooo.fun/tags/test/index.xml" rel="self" type="application/rss+xml"/><item><title>Why go build/test is so slow on Windows</title><link>https://notes.yoooo.fun/posts/golang-build-slow-on-windows/</link><pubDate>Fri, 24 Nov 2023 10:25:42 +0000</pubDate><guid>https://notes.yoooo.fun/posts/golang-build-slow-on-windows/</guid><description>&lt;style>
r { color: Red }
o { color: Orange }
g { color: Lime }
aquamarine { color: aquamarine }
pp { color: Violet }
aqua { color: aqua }
&lt;/style>
&lt;h1 id="why-go-build-or-go-test-is-so-slow-on-windows">Why &lt;code>go build&lt;/code> or &lt;code>go test&lt;/code> is &lt;o>so slow&lt;/o> on Windows
&lt;/h1>&lt;h2 id="problem">Problem
&lt;/h2>&lt;p>When you run &lt;code>go build&lt;/code> or &lt;code>go test&lt;/code> on Windows, it is very slow.&lt;/p>
&lt;p>If &lt;code>go build&lt;/code> costs &lt;g>10s&lt;/g> on Linux, it may cost &lt;r>70s or more&lt;/r> on Windows, which is so annoying.&lt;/p>
&lt;h2 id="reason">Reason
&lt;/h2>&lt;p>The reason is that Windows Defender scans the files generated by &lt;code>go build&lt;/code> or &lt;code>go test&lt;/code> in real time, which causes the slow.&lt;/p>
&lt;h2 id="solution">Solution
&lt;/h2>&lt;p>Exclude the files used by &lt;code>go&lt;/code>:&lt;/p>
&lt;ul>
&lt;li>&lt;code>%userprofile%\go\&lt;/code>&lt;/li>
&lt;li>&lt;code>%localappdata%\go-build\&lt;/code>&lt;/li>
&lt;li>&lt;code>&amp;lt;YOUR GO CODE DIR&amp;gt;&lt;/code>, e.g. &lt;code>%userprofile%\JetBrains\&lt;/code>&lt;/li>
&lt;/ul>
&lt;ol>
&lt;li>Open Windows Defender Security Center&lt;/li>
&lt;li>Click &amp;ldquo;&lt;pp>Virus &amp;amp; threat protection&lt;/pp>&amp;rdquo;&lt;/li>
&lt;li>Click &amp;ldquo;&lt;pp>Virus &amp;amp; threat protection settings&lt;/pp>&amp;rdquo;&lt;/li>
&lt;li>Click &amp;ldquo;&lt;pp>Add or remove exclusions&lt;/pp>&amp;rdquo;&lt;/li>
&lt;li>Click &amp;ldquo;&lt;pp>Add an exclusion&lt;/pp>&amp;rdquo;&lt;/li>
&lt;li>Click &amp;ldquo;&lt;pp>Folder&lt;/pp>&amp;rdquo;&lt;/li>
&lt;li>Select the above folders one by one&lt;/li>
&lt;/ol>
&lt;h2 id="btw">BTW
&lt;/h2>&lt;p>Maybe you can also exclude the process &lt;code>go.exe&lt;/code> in &amp;ldquo;&lt;pp>Exclusions&lt;/pp>&amp;rdquo; page, but I haven&amp;rsquo;t tried it.&lt;/p></description></item></channel></rss>